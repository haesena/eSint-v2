<!-- if the user has groups, show the active group and a toggle to open the select menu -->
<md-nav-list class="side-list" *ngIf="groups && groups.length > 0; else no_groups">
    <a md-list-item (click)="toggleGroups()">
        {{ (userService.getActiveGroupName() | async)?.$value }}
        <span class="space-filler"></span>
        <md-icon class="menu-icon" class="rotate" [ngClass]="{'down': showGroups }">keyboard_arrow_down</md-icon>
    </a>
</md-nav-list>
<md-nav-list *ngIf="showGroups" class="side-list">
    <span *ngFor="let g of groups">
        <a *ngIf="g.name != (userService.getActiveGroupName() | async)?.$value"
           md-list-item
           routerLinkActive="route-active"
           (click)="chooseGroup(g.$key)">
            <md-icon class="menu-icon">keyboard_arrow_right</md-icon>
            {{ g.name }}
            <span class="space-filler"></span>
        </a>
    </span>
    <a md-list-item routerLink="/new-group" routerLinkActive="route-active" (click)="clicked()">
        <md-icon class="menu-icon">add</md-icon>
        New group
    </a>
    <a md-list-item routerLink="/manage-groups" routerLinkActive="route-active" (click)="clicked()">
        <md-icon class="menu-icon">settings</md-icon>
        Manage groups
    </a>
</md-nav-list>
<ng-template #no_groups>
    <md-nav-list class="side-list">
        <a md-list-item routerLink="/new-group" routerLinkActive="route-active" (click)="clicked()">
            <md-icon class="menu-icon">add</md-icon>
            New group
        </a>
    </md-nav-list>
</ng-template>